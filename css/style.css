/* ==== RelateX Theme ==================================================== */
:root{
  /* Bright-Dark Theme (mehr Kontrast, etwas heller) */
  --bg:#fdfdfd;          /* vorher: #0f1115 */
  --panel:#3a4a69;       /* card/sidebars etwas heller */
  --panel-2:#252e42;     /* header/table-head etwas heller */
  --border:#3a4561;      /* sichtbarer Rand */
  --text:#f3f6ff;        /* hellere Schrift */
  --muted:#a9b6d3;       /* helleres Sekundärgrau */

  --primary:#6aa6ff;     /* kräftigeres Blau */
  --primary-2:#3f7bff;   /* Hover/Active */
}

/* globaler leichter Text-Shadow für bessere Lesbarkeit */
body {
  text-shadow: 0 1px 2px rgba(0,0,0,.6);
}



*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  color:var(--text);
  background:linear-gradient(180deg,#000000, #29354d 30%, #0a0d13 100%);
  font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
}

/* ==== Kein horizontales Scrollen ====================================== */
html, body { overflow-x: hidden; }
main, .content, .layout { overflow-x: hidden; max-width: 100%; }
img, canvas, table { max-width: 100%; }

/* ==== Header / Tabs =================================================== */
.topbar{
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  align-items:center;
  justify-content:space-between;
  padding:.75rem 1rem;
  border-bottom:1px solid var(--border);
  background:rgba(15,17,21,.7);
  backdrop-filter:saturate(120%) blur(6px);
  position:sticky;top:0;z-index:5;
}
.brand{font-weight:700;letter-spacing:.2px}
.tabs{display:flex;gap:.35rem;flex-wrap:wrap}
.tab-btn{
  background:transparent;border:1px solid var(--border);color:var(--text);
  padding:.45rem .7rem;border-radius:.6rem;cursor:pointer;white-space:nowrap
}
.tab-btn.active{background:var(--panel-2);border-color:var(--primary);
  box-shadow:0 0 0 1px rgba(91,140,255,.2) inset}

/* ==== Layout mit Sidebar links ======================================== */
.layout{
  display:grid;
  grid-template-columns: clamp(220px, 24vw, 280px) 1fr;
  gap:1rem; padding:1rem;
  min-height:calc(100vh - 60px);
}

.sidebar{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  padding:.8rem;
  overflow:auto;
  align-self:start;
  position:sticky;
  top:76px;

  /* bisher: max-height: calc(100vh - 92px); */
  height: calc(100vh - 92px); /* fixierte Höhe, volle Spaltenhöhe */
  min-height: 500px;          /* falls Bildschirm sehr klein */
}
.sidebar-header{display:flex;align-items:center;justify-content:space-between;gap:.5rem;margin-bottom:.5rem}
.sidebar h2{margin:.2rem 0 0 0;font-size:1.2rem}
.customer-list{list-style:none;margin:0;padding:0}
.customer-list li{
  padding:.5rem .6rem;border-radius:.6rem;border:1px solid transparent;cursor:pointer;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis
}
.customer-list li:hover{background:var(--panel-2);border-color:var(--border)}
.customer-list li.active{background:var(--panel-2);border-color:var(--primary)}

/* Content */
.content{min-width:0}
.view{display:none}
.view.active{display:block}

/* ==== Dashboard-Karten: Grid/Masonry ================================== */

/* Standard (bis 1100px): responsives Grid */
.cards-grid{
  display:grid;
  gap:1rem;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  align-items:start;
}

/* Ab Desktopbreite: Masonry, damit Lücken gefüllt werden */
@media (min-width: 1100px){
  .cards-grid{
    display: block;
    column-count: 3;       /* Anzahl Spalten */
    column-gap: 1rem;
  }
  .cards-grid .card{
    break-inside: avoid;
    display: inline-block;
    width: 100%;
    margin: 0 0 1rem 0;
    vertical-align: top;
  }
}

/* Sehr breite Screens: 4 Spalten */
@media (min-width: 1600px){
  .cards-grid{ column-count: 4; }
}

/* ==== Cards =========================================================== */
.card{
  background:var(--panel);border:1px solid var(--border);border-radius:14px;
  padding:1rem;min-width:0;
}
.card h3{margin:.2rem 0 1rem 0;font-size:1.05rem}
.card-title-row{display:flex;align-items:center;gap:.5rem}
.card-title-row h3{flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.card-title-row .btn{flex-shrink:0}

/* Chart */
.chart-wrap{
  position:relative;
  width:100%;
  height: clamp(220px, 28vh, 340px);
}
#ordersChart{ width:100% !important; height:100% !important; display:block; }

/* KPIs */
.kpi-row{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem}
.kpi span{display:block;font-size:1.8rem;font-weight:800}
.kpi label{font-size:.85rem;color:var(--muted)}

/* Listen & Kalender */
.list{margin:.2rem 0 0 0;padding-left:1.1rem}
.list li{margin:.25rem 0}
.calendar-form{display:flex;gap:.5rem;margin-bottom:.5rem;flex-wrap:wrap}
.calendar-form input{
  background:var(--panel-2);border:1px solid var(--border);border-radius:.5rem;
  padding:.4rem .6rem;color:var(--text);min-width:160px
}

/* ==== Tabellen ======================================================== */
.table-wrap{overflow:auto;border:1px solid var(--border);border-radius:12px}
.table{width:100%;border-collapse:separate;border-spacing:0;min-width:600px}
.table thead th{
  position:sticky;top:0;background:var(--panel-2);z-index:1;
  border-bottom:1px solid var(--border);padding:.6rem;text-align:left;font-weight:600;white-space:nowrap
}
.table tbody td{padding:.55rem;border-bottom:1px solid var(--border)}
.table tbody tr:hover{background:rgba(255,255,255,.03)}
th.sortable{cursor:pointer;user-select:none}
th.sort-asc::after{content:" ▲";font-size:.8em}
th.sort-desc::after{content:" ▼";font-size:.8em}

/* Buttons */
.btn{border:1px solid var(--border);background:var(--panel-2);color:var(--text);
  padding:.45rem .7rem;border-radius:.6rem;cursor:pointer}
.btn:hover{border-color:var(--primary)}
.btn-ghost{background:transparent}
.btn-primary{background:var(--primary);border-color:transparent}
.btn-primary:hover{background:var(--primary-2)}
.btn-sm{padding:.3rem .55rem;font-size:.9rem}

.table-actions{margin:.6rem 0;display:flex;gap:.5rem}

/* Footer */
.foot{
  padding:1rem;border-top:1px solid var(--border);text-align:center;color:var(--muted)
}

/* ==== Responsive Feinheiten =========================================== */
@media (max-width: 1200px){
  .layout{ grid-template-columns: 240px 1fr; }
  .kpi-row{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 900px){
  .layout{ grid-template-columns: 1fr; }
  .sidebar{ position:static; max-height:none; }
  .kpi-row{ grid-template-columns: 1fr; }
}

.customer-list li{
  display:flex;
  align-items:center;
  justify-content:space-between;
}

.customer-list li span{
  flex:1;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

/* Karten/Sidebar leicht anheben und klarere Ränder */
.card, .sidebar, .table-wrap{
  box-shadow: 0 6px 16px rgba(0,0,0,.25);
  border-color: color-mix(in srgb, var(--border) 80%, #000 20%);
}

/* Buttons: kräftiger, klarer Fokus */
.btn{
  border-color: color-mix(in srgb, var(--border) 70%, #000 30%);
}
.btn:hover{
  border-color: var(--primary);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 30%, transparent 70%);
}
.btn-primary{ background: var(--primary); color:#0a0f1c; }
.btn-primary:hover{ background: var(--primary-2); }

/* Interaktive Elemente mit sichtbarem Fokus */
button:focus, .tab-btn:focus, input:focus, select:focus{
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Tabs etwas kontrastreicher */
.tab-btn{ border-color: color-mix(in srgb, var(--border) 75%, #000 25%); }
.tab-btn.active{
  background: var(--panel-2);
  border-color: var(--primary);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 25%, transparent 75%) inset;
}

/* Sidebar-Liste: deutlicher Hover/Active */
.customer-list li:hover{
  background: color-mix(in srgb, var(--panel-2) 70%, #000 30%);
  border-color: color-mix(in srgb, var(--border) 60%, #000 40%);
}
.customer-list li.active{
  background: color-mix(in srgb, var(--panel-2) 85%, #000 15%);
  border-color: var(--primary);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 20%, transparent 80%) inset;
}

/* Tabellenkopf stärker absetzen */
.table thead th{
  background: color-mix(in srgb, var(--panel-2) 92%, #000 8%);
  border-bottom-color: color-mix(in srgb, var(--border) 85%, #000 15%);
}

/* Listenpunkte und Kleinteile etwas heller */
.kpi label, .list li, .calendar-form input::placeholder{
  color: color-mix(in srgb, var(--muted) 92%, #fff 8%);
}

/* Inputs klarer */
.calendar-form input{
  background: color-mix(in srgb, var(--panel-2) 85%, #000 15%);
  border-color: color-mix(in srgb, var(--border) 85%, #000 15%);
}
.calendar-form input:focus{
  border-color: var(--primary);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 25%, transparent 75%);
}

/* Karten-Titel klarer absetzen */
.card h3{ color: #f7f9ff; }


